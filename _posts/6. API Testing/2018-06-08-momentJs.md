---
layout: post
title: ä¸€ä¸ªå‰å®³çš„JavaScriptæ—¥æœŸå¤„ç†ç±»åº“
date: 2018-06-08
categories: blog
header-img: "../img/header/Home3.jpg"
tags: [APIæµ‹è¯•]
description: 
---
æˆ‘åˆšåˆšèŠ±äº†å‡ å¤©æ—¶é—´å°†Adventureç³»ç»Ÿçš„APIæµ‹è¯•å…¨éƒ¨é‡æ„äº†ä¸€éï¼Œçœ‹ç€386ä¸ªæµ‹è¯•åœ¨CIä¸Šè·‘èµ·æ¥ï¼Œå†…å¿ƒæœªå…äº›è®¸æ¿€åŠ¨ã€‚

<center>
    <p><img src="{{site.baseurl }}/img/moments/image01.jpg" align="center"></p>
</center>

ç„¶è€Œï¼Œä½œä¸ºä¸€ä¸ªåŠè·¯å‡ºå®¶çš„JavaScripté€‰æ‰‹ï¼Œåœ¨ç¼–å†™Scriptsæ—¶ï¼Œå¸¸å¸¸è‹¦äºè–„å¼±çš„ç¼–ç èƒ½åŠ›ï¼Œä¸å¾—ä¸æ”¾å¼ƒä¸€äº›å‰å®³çš„Caseã€ç¼–å†™çš„ä»£ç ä¹Ÿä¸å¤Ÿç®€æ´ã€‚æ¯”å¦‚ï¼Œæˆ‘å¸¸å¸¸éœ€è¦å¤„ç†è¯¸å¦‚â€œ2018-06-08â€ã€â€œ2018-06-08â€ã€â€œ20180608â€ã€â€œ20180608 00:00:00â€ã€â€œ2018/06/08â€, ä»¥åŠTimeStampç­‰å„ç§èŠ±æ ·çš„æ—¶é—´é—®é¢˜ï¼ŒçœŸå«äººæŠ“è€³æŒ è…®ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸ºäº†ä»¥â€œ20180608â€çš„æ ¼å¼å±•ç¤ºå½“å¤©æ—¥æœŸï¼Œæˆ‘åˆ†åˆ«å–åˆ°yearã€Monthã€Dayï¼Œç„¶åæ‹¼æ¥æˆæƒ³è¦çš„æ ¼å¼ã€‚è™½å®ç°äº†åŠŸèƒ½ï¼Œä½†æ–¹æ³•å´ç€å®ç¬¨äº†äº›ã€‚

	let now = new Date();
	let today = now.getFullYear() + ((now.getMonth()+1) < 10 ? '0'+(now.getMonth() +1) : now.getMonth() +1) + (now.getDate() < 10 ? '0'+ now.getDate() : now.getDate());

æˆ‘æƒ³ï¼Œå¦‚æœæˆ‘æ›¾ç»æ˜¯ä»¥è¿™æ ·çš„ç¼–ç æ°´å¹³æ¥åº”è˜éªšçªçš„Devï¼Œä¸€å®šæ— æ³•é€šå…³ğŸ˜‚ğŸ˜‚ğŸ˜‚ã€‚

å¥½åœ¨ï¼Œå¥½å­¦çš„ä¸ƒå§‘å¨˜åŠæ—¶å»æ‰¾Devå°é½åŒå­¦ï¼Œä¼å›¾å¯»æ±‚ä¸€äº›ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆã€‚è¿™ä¸ï¼Œå°é½åŒå­¦å¸®æˆ‘å¼•å…¥ä¸€ä¸ªJavaScriptæ—¥æœŸå¤„ç†ç±»åº“[ã€Moment.jsã€‘](http://momentjs.cn/), ä¸€è¡Œä»£ç å°±è§£å†³äº†é—®é¢˜ã€‚

	let today = moment().format('YYYY-MM-DD');
        
ç»†ç»†ç ”ç©¶ä¹‹åï¼Œä¸ƒå§‘å¨˜è®¤ä¸ºè¿™ä¸ª[Moment.js](http://momentjs.cn/)å´æ˜¯å€¼å¾—å¢™è£‚æ¨èåå¤â€œç©å¼„â€æ—¥æœŸçš„åŒå­¦ï¼ˆä¸“ä¸šå†™jsçš„åŒå­¦è¯·ä¸è¦ç¬‘è¯æˆ‘çš„æµ…è–„ğŸ¤ï¼‰ã€‚

---

<center>
    <p><img src="{{site.baseurl }}/img/moments/image02.jpg" align="center"></p>
</center>		

Moment.jsæ˜¯ä¸€ä¸ªJavaScriptæ—¥æœŸå¤„ç†ç±»åº“ï¼Œå®ƒèƒ½å¤Ÿåœ¨æµè§ˆå™¨ã€Node.jsã€Require.jsç­‰å¤šç§jsæ¡†æ¶ä¸­å·¥ä½œã€‚æˆ‘æ˜¯å°†å…¶å¼•å…¥â€œ**Supertest+Mocha+Chai+Grunt**â€çš„APIæµ‹è¯•æ¡†æ¶ä¸­ã€‚è¿™é‡Œåªåˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ›´å¤šç²¾å½©ï¼Œè¿˜è¯·ç§»æ­¥**[ã€Moment.jså®˜ç½‘ã€‘](http://momentjs.cn/)**ã€‚


#### 1. Install


	npm install moment --save   # npm

#### 2. å¼•å…¥Moment.jsåº“

	const moment = require('moment');
	
#### 3. è·å–å½“å‰æ—¶é—´

	moment();
	ç›¸å½“äº
	moment(new Date());
	
æ‰“å°ç»“æœä¸ºï¼šmoment("2018-06-08T16:46:41.488")

### 4. æ—¥æœŸæ ¼å¼åŒ–

	moment().format();
	moment().format(String); //ä¾‹å¦‚ï¼šmoment().format("YYYY-MM-DD")ï¼›
		
è¿™é‡Œçš„formatæ”¯æŒå¾ˆå¤šæ ¼å¼ï¼Œ	æ¯”å¦‚ï¼šâ€œYYYY-MM-DDâ€ã€â€œYYYY-MM-DD HH:MM:SSâ€ç­‰å¤šç§ä½ éœ€è¦çš„æ ¼å¼ã€‚

å¤„ç†ä¹‹å¤–ï¼ŒMomentè¿˜å¯ä»¥è®¡ç®—ç›¸å¯¹æ—¶é—´ï¼Œæ¯”å¦‚ï¼š

	moment("20111031", "YYYYMMDD").fromNow(); // 7 å¹´å‰
	moment("20120620", "YYYYMMDD").fromNow(); // 6 å¹´å‰
	moment().startOf('day').fromNow();        // 17 å°æ—¶å‰
	moment().endOf('day').fromNow();          // 7 å°æ—¶å†…
	moment().startOf('hour').fromNow();	
	
### 5. å–å€¼
å¯ä»¥è·å–å½“å‰çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’ç­‰ã€‚

	moment().year(); //è·å–å½“å‰å¹´
	moment().month() //è·å–å½“å‰æœˆ
	moment().weekday(); //è·å–å½“å‰çš„æ˜ŸæœŸï¼ˆåŒºåŸŸæ ‡å‡†ï¼‰
	moment().date(); //è·å–å½“å‰çš„æ—¥æœŸ
	moment().hour(); //è·å–å½“å‰çš„å°æ—¶
	moment().minute(); //è·å–å½“å‰çš„åˆ†é’Ÿæ•°
	moment().second();	 //è·å–å½“å‰çš„ç§’æ•°
	moment().millisecond(); //è·å–å½“å‰çš„æ¯«ç§’æ•°
	
	moment().quarter(); //è·å–å½“å¤©ä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å­£åº¦
	moment().week(); //è·å–å½“å¤©ä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨
	moment().dayOfYear(); //è·å–å½“å¤©ä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©

	
æˆ–è€…è¿™æ ·ä½¿ç”¨ã€‚

	moment().get('year');
	moment().get('month');  // 0 to 11
	moment().get('date');
	moment().get('hour');
	moment().get('minute');
	moment().get('second');
	moment().get('millisecond');


### 6. èµ‹å€¼
å¯ä»¥è·å–å½“å‰çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’ç­‰ã€‚

	moment().year(Number); //è·å–å½“å‰å¹´
	moment().month(Number) //è·å–å½“å‰æœˆ
	moment().weekday(Number); //è·å–å½“å‰çš„æ˜ŸæœŸï¼ˆåŒºåŸŸæ ‡å‡†ï¼‰
	moment().date(Number); //è·å–å½“å‰çš„æ—¥æœŸ
	moment().hour(Number); //è·å–å½“å‰çš„å°æ—¶
	moment().minute(Number); //è·å–å½“å‰çš„åˆ†é’Ÿæ•°
	moment().second(Number);	 //è·å–å½“å‰çš„ç§’æ•°
	moment().millisecond(Number); //è·å–å½“å‰çš„æ¯«ç§’æ•°
	
	moment().quarter(Number); //è·å–å½“å¤©ä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å­£åº¦
	moment().week(Number); //è·å–å½“å¤©ä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨
	moment().dayOfYear(Number); //è·å–å½“å¤©ä¸ºä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©

	
æˆ–è€…è¿™æ ·ä½¿ç”¨ã€‚

	moment().set('year', 2013);
	moment().set('month', 3);  // April
	moment().set('date', 1);
	moment().set('hour', 13);
	moment().set('minute', 20);
	moment().set('second', 30);
	moment().set('millisecond', 123);
	moment().set({'year': 2018, 'month': 3});




